osx_image: xcode8
language: objective-c

before_script:
  - brew install clang-format

script:
  - sh format.sh

before_deploy:
  - gem install cocoapods
  - gem install cocoapods-packager
  - pip install oss2
  - pod repo update

deploy:
  provider: script
  script: python ./scripts/publish-pod.py
  skip_cleanup: true
  on:
    branch: production

notifications:
  slack:
    secure: gjRik4s+tXTmKNFajXDzREKRweyWokXCtmhr7+j/t1xJyJ/dShrW2s/g+Yhzht/B3ipWxSIJXZmi8skU08HP7QJ6mQ2Tj107udzy/aRnrVQVrB9U+nC6k++cDFPakybC9UpZ9N7n3X1RTHHHMjrdxsGz/SsRhy+s3wQXZtA3nq2so4Bguc/lLt/UPE3cN5ILHdfTKo6oY6Do4hXkjqXkrxInGTUNf1itIF4I25UY3gHefmDlA8xP0af12T37sMO8hRrePoaltHGKsbVoZ8EvTt00LA5Fp8VWNpf10goK8ziGLZuCwraqoxQul9lrfiWkEYf8LzfVndmFeviY0kXQWG4mHhTT/si8jC2hMttfleNjqHJVSlBhMjs1XzNDOLsRxGScKSf2x1NgJys+IcKUo0ehELXOBbZItWVI3F/X8277fDOsgWdvHs5P2xzm3qWd84OGLSrohKtf9KTbogaxxocASKY4U4JPripMCmHM8b+i/kBdLpDMbfo8K/odGOdzH12SoJTUz+g8feVhtVaciM+nZC0gurCQx+mWVXTN0KQwO422N+8KG2+CcVFOl/iexZt0HVZJ3o0jEzum/GNIZqQMR0YLkq3vEp6ir1z+30dlwnL2RFEKPscGZsLs3zrPflxvi6Fjp1z/xop4EOzkK4d45joHwyn8HW36W+rSMJA=

env:
  global:
    - secure: bUE9AjZtQwmqjNwcM9gApinGUhVIZx2YzAu5xvNntGlHA8Q2B/vSFliHL2S6bAIJfHWl2UD5kWatAfb7IzWrWVphQtBvqPuayaHCJ0nsXqAb51eq3BIAbihot3ftFnXEr4Jj/Zu46z4cM6kLvdLbffWKo1gPMXqtLDAnj93BcXJ1wtEtOoD+dHO0AM96IG7QBAcswx2IHeUOr4+bEyD/ji9elQF065Au7OOhKBJ/fRukJU4K9yEQOddqYA3P7Gu3pROiR57+z/BM2xHZ1Glgga6i/4wlNfoh/2LLq07S3mLjNi/vogbA3L+fYaGufAgGSVp9ZUgNIVitWhGtC/kRMDKkqlZLNEGFfdnl1QjmPEDjfpsOQwRrufqBBHoMXzfjDMe0xjAwzRb0RhzoIGdWLt9fUdKkxjlCf0f3GWJEkBfNnNn7foCHcHsxp7I8uorH4G+9ThF/b1nS7ruqSwat3nNn4PxJKF054jFISxdgP9kKaclnAHlcpGpVMCA3LKAUwkG1QfxqwAvGR8GbXWq3NEQpwZLcEHTb9RnbhJCo5JggnL5N1gj8uk4K5Q2bPnf+/ER59HJ+Lg7VjEHdkvMRaMcLZ8nVDKfdYy3atf4Ymy9h3geQ/1PMAH9QMRmzPO9H8zezT2lXpHU+GHuxaJVun0oIzEZzwjkFVaHnoMwAzTM=
    - secure: C1lk8PpxBDFT4ldCTginaj4zSUO6X9j+YzQWW1C6HrTi0jYypooGGycJfNloyf8CTyUUJcyE39iKU2bxloAu0DQOh0tWXN5puHVjCNqMCAZ0Gy3LYuRlFllBiwzsCWEW4XAfbyLxf4FcJe+IGCgjh+t4UftDoWG5UNFL+cvIltXtyETV87sMZ147mJ31AXGUBytdcYO8UCesefwYpOpWrPjNt5zK4xBhUWHFrZCkx3ocHN8hlwAX3htGClxVRAgU5OT/1pIkcL1fV2/lMTKIL87vDrfiBIGzKF6kScXsjhzzHJru5qmNC24pStKj79UD5HR/2N5xHGUOCxmCtwGuH+tG2fjKpkxBP/pOyrk4eMkJ08s75XVVs3e8GgGJ6QZmLr5h4jNMwhzN9Aw7aL5kqkdv9gDBb5PYNPctzT5M3aqS/fWWBMyRN+Ftf4XLw9cfe4z95hVqqsfBLskbr3wdLfqeSqOyEtL1ADf0d40HBfHGuUeHfTsDLpnU0thFHwLcKEWtcMpANOnH62fQZKocyOwVgWbygL5/golDhzDK6ljtiNR+SxtHUjDs1qCXOkTcl4ga/0T6gua/qFvBntj0tVuFLHU7zZEEc16c2koirnJ9inum/ruMw+5Z7PjSLbFXV1Khc+VMY5v79uTrT+S5VZCwXsj/w9ST+ikQKKZDUO0=
    - secure: NwlYl1wVqjcLevj1Cj5GNj4MTdRBeeEAV1iut77j3/oZ8fr4iRFvgHOkFvpodR7wgrWnxH6jr+gNIagjYsqkwZ4JnnERjZJWvzZznWkyxVfLRUMgshadgOua1J49NCice419BVdsU4t+5gSzsLnjPOVpnhgwH3S7yNKrd18q3vGvPbfVez7OnOr9DpFvPeeVPX5NPnqoUUCVXr79InRLXdc3ftZcyB10XEq5okYQISgtkT5K45XU2iUi1iUMVw9hWK957P5lmFa9ipbGNBNpeDNYj9N4qlMCvFvVwa0mUD7EePAa2INr0oJ2zO7gHHuldiL28rHucLStWTxpeWFwFtjt9ZnsIEBE0lL4MgPtySPjuMG6Mvy/ds/g0gj76YpF7X4R9NumIjjq31kuzA2pcJymWIRwrUj4YuxheFPmMFX8KIDkdR3M3xHiwU6SsQsfkn/VVJrcq6saO/6m/08fAJDvxPelRzoZ5N4hNzjMe8XONNEpG8D1jKSX9JK8aRD2Nv5aleDRYwMfG3hdsOHNQl4hajAOMqW1umpISGrkhVEwHzoT8qKdWanjybMrGmUekbl+0m9FkvYj+SU5w6Ql10vhvcW+W7auvxKRBv4AAA/oE85H/k1+e8MY2cAAyfZ3/t4VhtFl+dHU6MwvxnPlmviddE5kDzrhe4EFHdrROlo=
